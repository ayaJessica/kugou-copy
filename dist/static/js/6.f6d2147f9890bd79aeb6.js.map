{"version":3,"sources":["webpack:///src/views/search.vue","webpack:///./src/views/search.vue?a77b","webpack:///./src/views/search.vue"],"names":["views_search","mixins","getList","_this","this","then","_ref","data","close","info","index","Search","_this2","_ref2","total","selectortype_template_index_0_src_views_search","render","_vm","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","expression","attrs","type","placeholder","domProps","on","keydown","$event","_k","keyCode","key","search","input","target","composing","keyword","href","click","_l","item","title","nativeOn","replaceInput","togglePanel","_s","filename","playAudio","src","__webpack_require__","width","height","staticRenderFns","Component","normalizeComponent","__webpack_exports__"],"mappings":"mIA4BAA,WAEAC,EAAA,2CAGA,2BAEA,QACA,2CAKAC,uCAGA,IAAAC,EAAAC,4BAEA,qBAEA,kFACAC,KAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAC,iBACAC,yBACAC,2DAKAC,QACAC,4BAEA,IAAAC,EAAAR,uBACA,yBAEA,qBAEA,wIAEAC,KAAA,SAAAQ,GACA,IAAAN,EAAAM,EAAAN,uBACAE,oBACAK,kBACAN,aCpEAO,GADiBC,OAFjB,WAA0B,IAAAC,EAAAb,KAAac,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,iBAA2BF,EAAA,OAAYE,YAAA,iBAA2BF,EAAA,QAAaE,YAAA,gBAA0BL,EAAAM,GAAA,KAAAH,EAAA,SAA0BI,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAV,EAAA,QAAAW,WAAA,YAAwEC,OAASC,KAAA,OAAAC,YAAA,YAAuCC,UAAWL,MAAAV,EAAA,SAAsBgB,IAAKC,QAAA,SAAAC,GAA2B,gBAAAA,IAAAlB,EAAAmB,GAAAD,EAAAE,QAAA,WAAAF,EAAAG,KAAwE,YAAerB,EAAAsB,OAAAJ,IAAmBK,MAAA,SAAAL,GAA0BA,EAAAM,OAAAC,YAAsCzB,EAAA0B,QAAAR,EAAAM,OAAAd,aAAkCV,EAAAM,GAAA,KAAAH,EAAA,KAAwBE,YAAA,aAAAO,OAAgCe,KAAA,sBAA4BX,IAAKY,MAAA5B,EAAAsB,UAAoBtB,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAH,EAAA,OAAyCI,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAV,EAAA,YAAAW,WAAA,gBAA8EN,YAAA,gBAA4BF,EAAA,OAAYE,YAAA,sBAAgCL,EAAAM,GAAA,UAAAN,EAAAM,GAAA,KAAAN,EAAA6B,GAAA7B,EAAA,iBAAA8B,EAAArC,GAAyE,OAAAU,EAAA,WAAqBkB,IAAA5B,EAAAmB,OAAiBmB,MAAAD,EAAAJ,SAAqBM,UAAWJ,MAAA,SAAAV,GAAyBlB,EAAAiC,aAAAxC,UAA4B,GAAAO,EAAAM,GAAA,KAAAH,EAAA,OAA4BI,aAAaC,KAAA,OAAAC,QAAA,SAAAC,OAAAV,EAAAkC,YAAAvB,WAAA,iBAAgFN,YAAA,eAA2BF,EAAA,OAAYE,YAAA,iBAA2BL,EAAAM,GAAA,eAAAN,EAAAmC,GAAAnC,EAAAH,OAAA,mBAAAG,EAAAM,GAAA,KAAAN,EAAA6B,GAAA7B,EAAA,kBAAA8B,EAAArC,GAAoH,OAAAU,EAAA,WAAqBkB,IAAA5B,EAAAmB,OAAiBmB,MAAAD,EAAAM,UAAsBJ,UAAWJ,MAAA,SAAAV,GAAyBlB,EAAAqC,UAAA5C,OAAuBU,EAAA,OAAYS,OAAO0B,IAAAC,EAAA,QAAAC,MAAA,KAAAC,OAAA,aAAoF,MAEloDC,oBCYjBC,EAdAJ,EAAA,OAcAK,CACA7D,EACAe,GATA,EAEA,KAEA,KAEA,MAUA+C,EAAA,QAAAF,EAAA","file":"static/js/6.f6d2147f9890bd79aeb6.js","sourcesContent":["<template>\r\n<div>\r\n  <div class=\"search-panel\">\r\n    <div class=\"search-input\">\r\n      <span class=\"search-icon\"></span>\r\n      <input type=\"text\" v-model=\"keyword\" placeholder=\"歌手/歌名/拼音\" @keydown.enter=\"search\">\r\n    </div>\r\n    <a href=\"javascript:void(0)\" @click=\"search\" class=\"search-btn\">搜索</a>\r\n  </div>\r\n\r\n  <div class=\"search-list\" v-show=\"togglePanel\">\r\n    <div class=\"search-list-title\">最近热门</div>\r\n    <mt-cell v-for=\"(item,index) in hotList\" :title=\"item.keyword\" @click.native=\"replaceInput(index)\" :key=\"index\"></mt-cell>\r\n  </div>\r\n\r\n  <div class=\"songs-list\" v-show=\"!togglePanel\">\r\n    <div class=\"search-total\">\r\n      共有{{total}}条搜索结果\r\n    </div>\r\n    <mt-cell v-for=\"(item,index) in songList\" :title=\"item.filename\" @click.native=\"playAudio(index)\" :key=\"index\">\r\n      <img src=\"../assets/images/download_icon.png\" width=\"20\" height=\"20\">\r\n    </mt-cell>\r\n  </div>\r\n</div>\r\n</template>\r\n<script type=\"es6\">\r\n  import { PLAY_AUDIO } from '../mixins'\r\n  import { Indicator } from 'mint-ui'\r\n  export default {\r\n    mixins : [PLAY_AUDIO],\r\n    data(){\r\n      return {\r\n        keyword : '',\r\n        hotList : [],\r\n        togglePanel : true,\r\n        total : null,\r\n        songList : []\r\n      }\r\n    },\r\n    created(){\r\n      this.getList();\r\n    },\r\n    methods : {\r\n      getList(){\r\n        Indicator.open({\r\n          text : '加载中...',\r\n          spinnerType : 'snake'\r\n        });\r\n        this.$http.get('/aproxy/api/v3/search/hot?format=json&plat=0&count=30').then(\r\n          ({data}) => {\r\n            Indicator.close();\r\n            this.hotList = data.data.info;\r\n          }\r\n        );\r\n      },\r\n      replaceInput(index){\r\n        this.keyword = this.hotList[index];\r\n        this.Search();\r\n      },\r\n      search(){\r\n        this.togglePanel = false;\r\n        Indicator.open({\r\n          text : '加载中...',\r\n          spinnerType : 'snake'\r\n        })\r\n        if(this.keyword){\r\n          this.$http.get(`/aproxy/api/v3/search/song?format=json&keyword=${this.keyword}&page=1&pagesize=30&showtype=1`).then(\r\n            ({data}) => {\r\n              this.songList = data.data.info;\r\n              this.total = data.data.total;\r\n              Indicator.close();\r\n            }\r\n          )\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-panel\"},[_c('div',{staticClass:\"search-input\"},[_c('span',{staticClass:\"search-icon\"}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],attrs:{\"type\":\"text\",\"placeholder\":\"歌手/歌名/拼音\"},domProps:{\"value\":(_vm.keyword)},on:{\"keydown\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.search($event)},\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value}}})]),_vm._v(\" \"),_c('a',{staticClass:\"search-btn\",attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":_vm.search}},[_vm._v(\"搜索\")])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.togglePanel),expression:\"togglePanel\"}],staticClass:\"search-list\"},[_c('div',{staticClass:\"search-list-title\"},[_vm._v(\"最近热门\")]),_vm._v(\" \"),_vm._l((_vm.hotList),function(item,index){return _c('mt-cell',{key:index,attrs:{\"title\":item.keyword},nativeOn:{\"click\":function($event){_vm.replaceInput(index)}}})})],2),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.togglePanel),expression:\"!togglePanel\"}],staticClass:\"songs-list\"},[_c('div',{staticClass:\"search-total\"},[_vm._v(\"\\r\\n      共有\"+_vm._s(_vm.total)+\"条搜索结果\\r\\n    \")]),_vm._v(\" \"),_vm._l((_vm.songList),function(item,index){return _c('mt-cell',{key:index,attrs:{\"title\":item.filename},nativeOn:{\"click\":function($event){_vm.playAudio(index)}}},[_c('img',{attrs:{\"src\":require(\"../assets/images/download_icon.png\"),\"width\":\"20\",\"height\":\"20\"}})])})],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5abd9178\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/search.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5abd9178\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}