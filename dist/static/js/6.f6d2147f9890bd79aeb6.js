webpackJsonp([6],{"2QH8":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("msXN"),n=a("Au9i"),i={mixins:[s.PLAY_AUDIO],data:function(){return{keyword:"",hotList:[],togglePanel:!0,total:null,songList:[]}},created:function(){this.getList()},methods:{getList:function(){var t=this;n.Indicator.open({text:"加载中...",spinnerType:"snake"}),this.$http.get("/aproxy/api/v3/search/hot?format=json&plat=0&count=30").then(function(e){var a=e.data;n.Indicator.close(),t.hotList=a.data.info})},replaceInput:function(t){this.keyword=this.hotList[t],this.Search()},search:function(){var t=this;this.togglePanel=!1,n.Indicator.open({text:"加载中...",spinnerType:"snake"}),this.keyword&&this.$http.get("/aproxy/api/v3/search/song?format=json&keyword="+this.keyword+"&page=1&pagesize=30&showtype=1").then(function(e){var a=e.data;t.songList=a.data.info,t.total=a.data.total,n.Indicator.close()})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"search-panel"},[s("div",{staticClass:"search-input"},[s("span",{staticClass:"search-icon"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"歌手/歌名/拼音"},domProps:{value:t.keyword},on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.search(e)},input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),t._v(" "),s("a",{staticClass:"search-btn",attrs:{href:"javascript:void(0)"},on:{click:t.search}},[t._v("搜索")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.togglePanel,expression:"togglePanel"}],staticClass:"search-list"},[s("div",{staticClass:"search-list-title"},[t._v("最近热门")]),t._v(" "),t._l(t.hotList,function(e,a){return s("mt-cell",{key:a,attrs:{title:e.keyword},nativeOn:{click:function(e){t.replaceInput(a)}}})})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.togglePanel,expression:"!togglePanel"}],staticClass:"songs-list"},[s("div",{staticClass:"search-total"},[t._v("\r\n      共有"+t._s(t.total)+"条搜索结果\r\n    ")]),t._v(" "),t._l(t.songList,function(e,n){return s("mt-cell",{key:n,attrs:{title:e.filename},nativeOn:{click:function(e){t.playAudio(n)}}},[s("img",{attrs:{src:a("8ToT"),width:"20",height:"20"}})])})],2)])},staticRenderFns:[]},r=a("VU/8")(i,o,!1,null,null,null);e.default=r.exports}});
//# sourceMappingURL=6.f6d2147f9890bd79aeb6.js.map